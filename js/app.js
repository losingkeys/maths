(function(){var e,t,n,r,i;n=function(){function e(e,t){this.group=e!=null?e:0,this.alreadyUsed=t!=null?t:[]}return e}(),window.app||(window.app={}),t=Backbone.Router.extend({routes:{"":"root",config:"config",reset:"reset","practice/":"math","practice/:operation":"math","practice/:operation/:group":"math"},root:function(){return console.log("root route")},math:function(e,t){return e==null&&(e="addition"),t==null&&(t="0"),(new r).initilize(e,t)},reset:function(){return console.log("resetting")},config:function(){return console.log("configuring")}}),app.router=new t,window.app||(window.app={}),$(function(){return console.log(Backbone.history.start()),(new app.GlobalView).initilize()}),window.app||(window.app={}),e=Backbone.View.extend({el:"body",initilize:function(){return console.log("init global view")},events:{"click #config":"renderConfig","click #reset":"nav","click nav":"nav"},renderConfig:function(){return console.log("rendering config page")},nav:function(){return console.log("navigating")}}),window.app.GlobalView=e,window.app||(window.app={}),r=Backbone.View.extend({el:"#problemContainer",recentProblem:{},initilize:function(e,t){var n;return this.operation=e!=null?e:"addition",this.group=t!=null?t:"0",n=Math.floor(Math.random()*10),e==="subtraction"?this.recentProblem={operand0:Math.max(t,n),operand1:Math.min(t,n),operator:"-"}:Math.floor(Math.random()*10)%2?this.recentProblem={operand0:t,operand1:n,operator:"+"}:this.recentProblem={operand0:n,operand1:t,operator:"+"},this.render(this.recentProblem)},events:{"submit form":"grade"},render:function(e){var t,n;return e==null&&(e={}),n=Math.floor(Math.random()*3),t=$("#problem-template-"+n).html(),$("#problemContainer").html(_.template(t,e)),this},grade:function(e){var t,n;e.preventDefault(),t=0,n=this.$el.find("input[name = answer]").val(),this.operation==="addition"&&(t=Number(this.recentProblem.operand0)+Number(this.recentProblem.operand1)),this.operation==="subtraction"&&(t=Number(this.recentProblem.operand0)-Number(this.recentProblem.operand1));if(t===Number(n))return alert("right!")}}),window.app.ProblemView=r,e=Backbone.View.extend({el:"body",initilize:function(){},events:{"click #config":"renderConfig","click #reset":"nav","click nav ":"nav"}}),i=Backbone.Model.extend({defaults:{operation:"addition",group:"0"},nextQuestion:function(){var e,t;return e=JSON.parse(sessionStorage.getItem("completed")),e?e=e.items:e=[],e.length===9?console.log("go to the next group!"):(e.push("FIXME: add commas or something?"),sessionStorage.setItem("completed",JSON.stringify({items:e})),t=new r,t.render({one:5,two:6}))}})}).call(this);